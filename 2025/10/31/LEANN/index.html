<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>LEANN | YoathI' Blog</title><meta name="author" content="YoathI"><meta name="copyright" content="YoathI"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="论文笔记 论文提出了一种针对资源受限的个人设备的低存储的ANN搜索索引 研究背景 目前基于嵌入的搜索（向量检索技术）已经被广泛应用在推荐系统和RAG中，个人设备对此也逐渐突显需求。但由于个人设备存储空间限制和ANN索引存储开销过大的原因，无法在个人设备中存储必要的索引结构。因此，减少索引存储开销和保持搜索质量和延迟成为了关键问题。 行业需求 随着智能手机等边缘设备越来越普及，这些设备不断生成多模态">
<meta property="og:type" content="article">
<meta property="og:title" content="LEANN">
<meta property="og:url" content="https://yoathi.github.io/2025/10/31/LEANN/index.html">
<meta property="og:site_name" content="YoathI' Blog">
<meta property="og:description" content="论文笔记 论文提出了一种针对资源受限的个人设备的低存储的ANN搜索索引 研究背景 目前基于嵌入的搜索（向量检索技术）已经被广泛应用在推荐系统和RAG中，个人设备对此也逐渐突显需求。但由于个人设备存储空间限制和ANN索引存储开销过大的原因，无法在个人设备中存储必要的索引结构。因此，减少索引存储开销和保持搜索质量和延迟成为了关键问题。 行业需求 随着智能手机等边缘设备越来越普及，这些设备不断生成多模态">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://image.gzzz.pro/image/202412181109771.webp">
<meta property="article:published_time" content="2025-10-31T04:28:54.000Z">
<meta property="article:modified_time" content="2025-10-31T07:44:25.490Z">
<meta property="article:author" content="YoathI">
<meta property="article:tag" content="向量检索">
<meta property="article:tag" content="边缘设备">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://image.gzzz.pro/image/202412181109771.webp"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "LEANN",
  "url": "https://yoathi.github.io/2025/10/31/LEANN/",
  "image": "https://image.gzzz.pro/image/202412181109771.webp",
  "datePublished": "2025-10-31T04:28:54.000Z",
  "dateModified": "2025-10-31T07:44:25.490Z",
  "author": [
    {
      "@type": "Person",
      "name": "YoathI",
      "url": "https://YoathI.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.jpg"><link rel="canonical" href="https://yoathi.github.io/2025/10/31/LEANN/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css?v=5.5.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":true,"top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":400,"highlightFullpage":true,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'LEANN',
  isHighlightShrink: false,
  isToc: false,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/modify.css"><meta name="generator" content="Hexo 8.1.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/favicon.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">2</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://image.gzzz.pro/image/202412181109771.webp);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">YoathI' Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">LEANN</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="nav-menus-container"><!-- 菜单主体部分--><div id="menus"><!--菜单项--><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><!-- 搜索按钮--><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">LEANN</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-10-31T04:28:54.000Z" title="发表于 2025-10-31 12:28:54">2025-10-31</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-10-31T07:44:25.490Z" title="更新于 2025-10-31 15:44:25">2025-10-31</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%90%91%E9%87%8F%E6%A3%80%E7%B4%A2/">向量检索</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>6分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><div class="top-img" style="background-image: url(https://image.gzzz.pro/image/202412181109771.webp);"></div><article class="container post-content" id="article-container"><p>论文笔记</p>
<p>论文提出了一种针对资源受限的个人设备的低存储的ANN搜索索引</p>
<p><strong>研究背景</strong></p>
<p>目前基于嵌入的搜索（向量检索技术）已经被广泛应用在推荐系统和RAG中，个人设备对此也逐渐突显需求。但由于个人设备存储空间限制和ANN索引存储开销过大的原因，无法在个人设备中存储必要的索引结构。因此，减少索引存储开销和保持搜索质量和延迟成为了关键问题。</p>
<p><strong>行业需求</strong></p>
<p>随着智能手机等边缘设备越来越普及，这些设备不断生成多模态数据（如图像、文字、音频等）。这些数据如果能被有效地检索、组合起来，对用户回忆、检索过去信息、辅助智能应用等都有潜在价值。</p>
<p>边缘设备上向量检索的应用：设备端RAG系统、个性化推荐系统、图像与视频内容检索等。</p>
<p><strong>研究动机</strong></p>
<p><strong>动态重算嵌入以节省存储</strong>：<br>传统图索引（如 HNSW）在查询时只会访问少量向量，因此LEANN不再将所有嵌入存储在磁盘上，而是在查询时按需重算。为减少延迟，LEANN 采用了双层遍历算法（结合近似与精确队列）和动态批处理机制（提高 GPU 利用率），从而显著降低重算开销。</p>
<p><strong>图结构剪枝以压缩索引元数据</strong>：<br>即使不存储嵌入，图索引的邻接信息仍带来较大存储负担。LEANN 通过分析发现，许多边和节点对检索效果贡献有限，因此提出了高出度保持的剪枝策略，去除冗余边、保留关键枢纽节点，从而在几乎不影响搜索精度的前提下，大幅减少索引体积。</p>
<p>为此，本论文提出了LEANN，通过结合紧凑图索引和高效即时重计算，以实现最小的存储负担和快速准确的检索。</p>
<p><strong>具体技术</strong></p>
<p>在HNSW查询中，只有很少的节点会被访问，因此 LEANN 不再预先存储全部向量，而是对这些少量节点在查询时即时重算，从而大幅降低存储成本，同时保持搜索准确率和延迟在可接受范围内。</p>
<ol>
<li>重计算虽然能节省存储空间，但仍然会导致较高的延迟。</li>
<li>并且剩余的图元数据可能仍然占比很大的存储开销。</li>
</ol>
<p>对此，LEANN 采用两级图遍历算法和动态批处理机制来降低重新计算的延迟。并使用一种高度保留的图剪枝技术，以显著减少图元数据所需的存储空间。</p>
<p><strong>系统工作流程</strong></p>
<p>对于给定的数据集，LEANN首先计算所有条目的嵌入向量，并利用现有的图索引方法构建向量索引。然后LEANN丢弃所有条目的嵌入向量，并通过一种高度保留的图剪枝算法对图结构进行剪枝，以减少存储开销。该算法优先保留访问频繁的“枢纽节点”因为节点访问分布往往极度偏斜。</p>
<p>在查询时，LEANN使用一个两级搜索算法在被剪枝后的图上进行遍历，识别并优先探索那些更有潜力的节点。这些被选中的节点随后会被发送到嵌入服务器（一个设备端组件，用于调用原始嵌入模型重新计算节点的嵌入）以获取对应的向量表示。</p>
<p>为了进一步提高 GPU 利用率并减少延迟，LEANN 采用了一种动态批处理策略，用来调度在 GPU 上的嵌入计算任务。此外，当设备上有额外磁盘空间可用时，LEANN 会将这些“枢纽节点（hub nodes）”缓存在磁盘中。运行时，系统仅对未缓存的节点重新计算嵌入，而对已缓存的节点则直接从磁盘加载，从而减少计算负担并进一步提升查询性能。</p>
<p><strong>Two-Level Search (向量搜索过程)</strong></p>
<p>主要思想：</p>
<p>只需对近似距离排名靠前的向量进行重新排序（re-ranking），就足以获得较高的召回率，同时能有效剪枝掉在错误方向上的节点。</p>
<p>AQ（Approximate Queue，近似队列），用于存储所有计算近似距离的已访问节点；EQ（Exact Queue, 精确队列），用于存放计算精确距离的节点；re-ranking ratio（重新排序比例），用于控制进行精确计算节点的比例。</p>
<p>算法流程</p>
<p>从入口节点开始，计算其精确距离，将入口节点加入EQ、R和visited。如果EQ不为空，每次从EQ中取出距离查询向量q最近的节点v，从R中取出距离q最远的节点f。若dvq&gt;dfq则结束算法，否则遍历v的所有邻居，对每个未访问的节点n，将其加入visited，计算近似距离d_ap，然后将节点n加入到AQ（队列中的节点会保存节点标识和对应距离，d_ap的计算可以通过PQ实现）。然后从AQ中取出前a%的节点（最有潜力的节点），对这些节点计算精确距离d_ex，将其加入ED和R。</p>
<p><strong>Dynamic batching strategy （搜索过程）</strong></p>
<p>图索引每次扩展都要根据上次扩展结果选出最有希望的节点，会导致每次GPU只能处理很小一批数据，使得GPU资源浪费严重、吞吐低、延迟高。动态批处理策略放宽这种严格的数据依赖性，每次扩展从候选队列中一次取出多个节点进行扩展，将它们的邻居节点使用GPU一起进行重计算。这样计算更高效、延迟降低，扩展顺序虽然有延迟，但整体搜索结果几乎没有影响。</p>
<ol>
<li>每个节点平均有 8 个邻居；</li>
<li>原始做法：每次扩展 1 个节点 → batch size = 8；</li>
<li>动态批处理：一次从队列取 8 个节点 → 共 8×8 = 64 个邻居 → batch size = 64。</li>
</ol>
<p><strong>High Degree Preserving Graph Pruning （索引构建阶段）</strong></p>
<p>LEANN引入了一个用户定义的磁盘预算C。如果图元数据超过这个阈值，LEANN会触发剪枝算法。</p>
<p>主要思想：</p>
<p>只要保持高度数的枢纽节点，即可维持搜索性能，在减少边数量的同时保持检索准确率。</p>
<p>G：原始图；V：节点集合；ef：候选集合大小；M：高度数节点允许的最大连接数；m：普通节点允许的最大连接数(m&lt;M)；a：高节点度数比例</p>
<ol>
<li>计算G中每个节点v的度数Dv，并初始化G1用来存放剪枝后的图。</li>
<li>从D中选出出度最高的前a%节点，记为集合V*</li>
<li>对V中每个节点v进行计算</li>
</ol>
<p>调用Best-First Search算法得到v的候选邻居列表W，如果v属于V*，M0=M，否则，M0=m。</p>
<p>通过原始启发式（d(p, p′)≤d(p, p′)这种启发式剪枝）从W中选取M0个节点作为v的邻居并建立双向边，并添加到G1。</p>
<p>如果存在邻居的出边度数大于M，则进行剪枝出度边。</p>
<ol>
<li>LEANN 使用 <strong>按需访问和动态批处理（dynamic batching）</strong>：<ul>
<li>查询开始时，只将部分必要的图元数据加载到内存（例如初始候选节点及其邻居信息）。</li>
<li>随着搜索的推进，按需加载更多节点信息，同时对节点向量进行重算（embedding recomputation）。</li>
</ul>
</li>
<li>这种策略可以避免一次性占用大量内存，同时保证图遍历的效率。</li>
</ol>
<p>LEANN 并不是把整个索引图一次性载入内存，而是<strong>按需加载图的部分结构并结合向量重算</strong>，以在低内存环境下实现高效查询。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://YoathI.github.io">YoathI</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://yoathi.github.io/2025/10/31/LEANN/">https://yoathi.github.io/2025/10/31/LEANN/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://YoathI.github.io" target="_blank">YoathI' Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%BE%B9%E7%BC%98%E8%AE%BE%E5%A4%87/">边缘设备</a><a class="post-meta__tags" href="/tags/%E5%90%91%E9%87%8F%E6%A3%80%E7%B4%A2/">向量检索</a></div><div class="post-share"><div class="social-share" data-image="https://image.gzzz.pro/image/202412181109771.webp" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer=""></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related full-width" href="/2025/10/30/hello-world/" title="Hello World"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Hello World</div></div><div class="info-2"><div class="info-item-1">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post"  More info: Writing Run server1$ hexo server  More info: Server Generate static files1$ hexo generate  More info: Generating Deploy to remote sites1$ hexo deploy  More info: Deployment </div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/favicon.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"></div><div class="author-info-name">YoathI</div><div class="author-info-description">时光</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">2</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/YoathI" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/10/31/LEANN/" title="LEANN"><img src="https://image.gzzz.pro/image/202412181109771.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="LEANN"></a><div class="content"><a class="title" href="/2025/10/31/LEANN/" title="LEANN">LEANN</a><time datetime="2025-10-31T04:28:54.000Z" title="发表于 2025-10-31 12:28:54">2025-10-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/30/hello-world/" title="Hello World">Hello World</a><time datetime="2025-10-30T02:03:49.046Z" title="发表于 2025-10-30 10:03:49">2025-10-30</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent;"><div class="footer-other"><div class="footer-copyright"><span class="copyright">©&nbsp;2025 By YoathI</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.1.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.1</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.1"></script><script src="/js/main.js?v=5.5.1"></script><div class="js-pjax"></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-nest.min.js"></script><script async="" data-pjax="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="输入关键词…" type="text"></div><hr><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.1"></script></div></div><!-- hexo injector body_end start --> <script data-pjax="">if(document.getElementById('recent-posts') && (location.pathname ==='/categories/'|| '/categories/' ==='all')){
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://YoathI.github.io/categories/向量检索/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📚 向量检索 (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://YoathI.github.io/categories/hexo教程/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🎮 hexo教程 (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><a class="magnet_link_more"  href="https://YoathI.github.io/categories" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>';
    console.log('已挂载magnet')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(50% - 5px);background: #f2f2f2;margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: #b30070}.magnet_link_more{color:#555}.magnet_link{color:black}.magnet_link:hover{color:white}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
    <style></style><!-- hexo injector body_end end --></body></html>